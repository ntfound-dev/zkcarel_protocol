<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 860" width="1400" height="860" font-family="'Courier New', 'SF Mono', monospace">
  <defs>
    <!-- Backgrounds -->
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#070d1f"/>
      <stop offset="100%" stop-color="#040810"/>
    </linearGradient>
    <!-- Panel gradients -->
    <linearGradient id="panelCore" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0a1a3a"/>
      <stop offset="100%" stop-color="#071226"/>
    </linearGradient>
    <linearGradient id="panelGov" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#1a0a2e"/>
      <stop offset="100%" stop-color="#110720"/>
    </linearGradient>
    <linearGradient id="panelRev" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0a2010"/>
      <stop offset="100%" stop-color="#061408"/>
    </linearGradient>
    <linearGradient id="panelReward" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#1a1a0a"/>
      <stop offset="100%" stop-color="#111105"/>
    </linearGradient>
    <linearGradient id="panelUser" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#1a0a0a"/>
      <stop offset="100%" stop-color="#110606"/>
    </linearGradient>

    <!-- Node box gradient - teal/token -->
    <linearGradient id="nodeToken" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0f2540"/>
      <stop offset="100%" stop-color="#071830"/>
    </linearGradient>
    <linearGradient id="nodeVesting" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0d1e38"/>
      <stop offset="100%" stop-color="#071528"/>
    </linearGradient>
    <linearGradient id="nodeFee" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0d1e38"/>
      <stop offset="100%" stop-color="#071528"/>
    </linearGradient>
    <linearGradient id="nodeTreasury" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0a2238"/>
      <stop offset="100%" stop-color="#061828"/>
    </linearGradient>
    <linearGradient id="nodeGov" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#160a2e"/>
      <stop offset="100%" stop-color="#0d0520"/>
    </linearGradient>
    <linearGradient id="nodeTimelock" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#160a2e"/>
      <stop offset="100%" stop-color="#0d0520"/>
    </linearGradient>
    <linearGradient id="nodeAdmin" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#180d0a"/>
      <stop offset="100%" stop-color="#100805"/>
    </linearGradient>

    <!-- Arrow markers -->
    <marker id="arrowCyan" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#00e5c8"/>
    </marker>
    <marker id="arrowOrange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ff8c42"/>
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#9d6bff"/>
    </marker>
    <marker id="arrowGray" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a5568"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4ade80"/>
    </marker>

    <!-- Glow filters -->
    <filter id="glowCyan" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="blur"/>
      <feColorMatrix in="blur" type="matrix" values="0 0 0 0 0  0 0.9 0 0 0.8  0 0 1 0 0.8  0 0 0 0.6 0" result="cb"/>
      <feMerge><feMergeNode in="cb"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="panelShadow" x="-5%" y="-5%" width="110%" height="110%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000000" flood-opacity="0.5"/>
    </filter>
    <filter id="nodeShadow" x="-5%" y="-5%" width="110%" height="110%">
      <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#000000" flood-opacity="0.6"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1400" height="860" fill="url(#bg)"/>

  <!-- Subtle dot grid -->
  <pattern id="dots" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
    <circle cx="20" cy="20" r="0.8" fill="#1e3a6e" opacity="0.5"/>
  </pattern>
  <rect width="1400" height="860" fill="url(#dots)"/>

  <!-- Title -->
  <text x="700" y="46" text-anchor="middle" font-size="22" font-weight="700" letter-spacing="4" fill="#ffffff" opacity="0.9">CAREL PROTOCOL — TOKENOMICS ARCHITECTURE</text>
  <line x1="200" y1="58" x2="1200" y2="58" stroke="url(#bg)" stroke-width="0"/>
  <rect x="300" y="60" width="800" height="1" fill="#00e5c8" opacity="0.3"/>

  <!-- ══════════════════════════════════ -->
  <!-- PANEL 1: CORE TOKENOMICS CONTRACTS -->
  <!-- ══════════════════════════════════ -->
  <rect x="30" y="80" width="400" height="730" rx="12" fill="url(#panelCore)" stroke="#00e5c8" stroke-width="1" stroke-opacity="0.3" filter="url(#panelShadow)"/>
  <text x="230" y="108" text-anchor="middle" font-size="12" font-weight="700" letter-spacing="3" fill="#00e5c8" opacity="0.85">CORE TOKENOMICS CONTRACTS</text>
  <line x1="55" y1="116" x2="405" y2="116" stroke="#00e5c8" stroke-width="0.5" stroke-opacity="0.3"/>

  <!-- Token (CAREL) node -->
  <rect x="55" y="130" width="350" height="120" rx="8" fill="url(#nodeToken)" stroke="#00e5c8" stroke-width="1.5" stroke-opacity="0.7" filter="url(#nodeShadow)"/>
  <rect x="55" y="130" width="350" height="4" rx="2" fill="#00e5c8" opacity="0.8"/>
  <text x="230" y="158" text-anchor="middle" font-size="14" font-weight="700" fill="#00e5c8">Token (CAREL)</text>
  <text x="78" y="178" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ 1B cap — hard supply limit</text>
  <text x="78" y="196" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ Role-based mint / burn controls</text>
  <text x="78" y="214" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ Admin: set_minter / set_burner</text>
  <text x="78" y="236" font-size="9.5" fill="#3a6a80" font-style="italic">token.cairo</text>

  <!-- VestingManager node -->
  <rect x="55" y="270" width="350" height="130" rx="8" fill="url(#nodeVesting)" stroke="#00e5c8" stroke-width="1.5" stroke-opacity="0.6" filter="url(#nodeShadow)"/>
  <rect x="55" y="270" width="350" height="4" rx="2" fill="#00e5c8" opacity="0.6"/>
  <text x="230" y="298" text-anchor="middle" font-size="14" font-weight="700" fill="#5dd0ff">VestingManager</text>
  <text x="78" y="318" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ setup_tokenomics() — defines allocations</text>
  <text x="78" y="336" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ release() → mint() tokens on schedule</text>
  <text x="78" y="354" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ Investor, Team, Marketing, Listing, Eco</text>
  <text x="78" y="376" font-size="9.5" fill="#3a6a80" font-style="italic">vesting_manager.cairo</text>

  <!-- FeeCollector node -->
  <rect x="55" y="420" width="350" height="130" rx="8" fill="url(#nodeFee)" stroke="#00e5c8" stroke-width="1.5" stroke-opacity="0.6" filter="url(#nodeShadow)"/>
  <rect x="55" y="420" width="350" height="4" rx="2" fill="#ff8c42" opacity="0.7"/>
  <text x="230" y="448" text-anchor="middle" font-size="14" font-weight="700" fill="#ffb84d">FeeCollector</text>
  <text x="78" y="468" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ collect_swap_fee / bridge_fee / mev_fee</text>
  <text x="78" y="486" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ Routes: Treasury + LP + Provider share</text>
  <text x="78" y="504" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ update_fee_rates / bridge_split</text>
  <text x="78" y="526" font-size="9.5" fill="#3a6a80" font-style="italic">fee_collector.cairo</text>

  <!-- Treasury node -->
  <rect x="55" y="570" width="350" height="150" rx="8" fill="url(#nodeTreasury)" stroke="#00e5c8" stroke-width="1.5" stroke-opacity="0.6" filter="url(#nodeShadow)"/>
  <rect x="55" y="570" width="350" height="4" rx="2" fill="#5dd0ff" opacity="0.7"/>
  <text x="230" y="598" text-anchor="middle" font-size="14" font-weight="700" fill="#5dd0ff">Treasury</text>
  <text x="78" y="618" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ receive_fee() — accumulates protocol revenue</text>
  <text x="78" y="636" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ optional burn_rate_bps — deflation control</text>
  <text x="78" y="654" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ burn_excess() with per-epoch cap</text>
  <text x="78" y="672" font-size="10.5" fill="#7eb8d4" opacity="0.85">◆ fund_rewards() / batch_fund_rewards()</text>
  <text x="78" y="697" font-size="9.5" fill="#3a6a80" font-style="italic">treasury.cairo</text>

  <!-- ══════════════════════════════════ -->
  <!-- PANEL 2: GOVERNANCE / CONTROL      -->
  <!-- ══════════════════════════════════ -->
  <rect x="460" y="80" width="450" height="380" rx="12" fill="url(#panelGov)" stroke="#9d6bff" stroke-width="1" stroke-opacity="0.4" filter="url(#panelShadow)"/>
  <text x="685" y="108" text-anchor="middle" font-size="12" font-weight="700" letter-spacing="3" fill="#9d6bff" opacity="0.85">GOVERNANCE / CONTROL PLANE</text>
  <line x1="480" y1="116" x2="895" y2="116" stroke="#9d6bff" stroke-width="0.5" stroke-opacity="0.3"/>

  <!-- Governance node -->
  <rect x="480" y="130" width="190" height="140" rx="8" fill="url(#nodeGov)" stroke="#9d6bff" stroke-width="1.5" stroke-opacity="0.8" filter="url(#nodeShadow)"/>
  <rect x="480" y="130" width="190" height="4" rx="2" fill="#9d6bff" opacity="0.8"/>
  <text x="575" y="158" text-anchor="middle" font-size="13" font-weight="700" fill="#c08bff">Governance</text>
  <text x="495" y="178" font-size="10" fill="#a07ad4" opacity="0.85">◆ propose()</text>
  <text x="495" y="196" font-size="10" fill="#a07ad4" opacity="0.85">◆ vote()</text>
  <text x="495" y="214" font-size="10" fill="#a07ad4" opacity="0.85">◆ execute()</text>
  <text x="495" y="232" font-size="10" fill="#a07ad4" opacity="0.85">◆ optional queue</text>
  <text x="495" y="252" font-size="9" fill="#6040a0" font-style="italic">governance.cairo</text>

  <!-- Timelock node -->
  <rect x="690" y="130" width="190" height="140" rx="8" fill="url(#nodeTimelock)" stroke="#9d6bff" stroke-width="1.5" stroke-opacity="0.8" filter="url(#nodeShadow)"/>
  <rect x="690" y="130" width="190" height="4" rx="2" fill="#9d6bff" opacity="0.8"/>
  <text x="785" y="158" text-anchor="middle" font-size="13" font-weight="700" fill="#c08bff">Timelock</text>
  <text x="705" y="178" font-size="10" fill="#a07ad4" opacity="0.85">◆ queue()</text>
  <text x="705" y="196" font-size="10" fill="#a07ad4" opacity="0.85">◆ execute()</text>
  <text x="705" y="214" font-size="10" fill="#a07ad4" opacity="0.85">◆ cancel()</text>
  <text x="705" y="232" font-size="10" fill="#a07ad4" opacity="0.85">◆ delay enforcement</text>
  <text x="705" y="252" font-size="9" fill="#6040a0" font-style="italic">timelock.cairo</text>

  <!-- Governance → Timelock arrow -->
  <line x1="670" y1="200" x2="688" y2="200" stroke="#9d6bff" stroke-width="1.5" marker-end="url(#arrowPurple)"/>

  <!-- Admin Targets node -->
  <rect x="480" y="300" width="400" height="140" rx="8" fill="url(#nodeAdmin)" stroke="#ff6b4a" stroke-width="1.5" stroke-opacity="0.7" filter="url(#nodeShadow)"/>
  <rect x="480" y="300" width="400" height="4" rx="2" fill="#ff6b4a" opacity="0.7"/>
  <text x="680" y="328" text-anchor="middle" font-size="13" font-weight="700" fill="#ff8c6a">Admin Targets (Core)</text>
  <text x="500" y="352" font-size="10" fill="#c07060" opacity="0.9">◆ token.set_minter / set_burner</text>
  <text x="500" y="370" font-size="10" fill="#c07060" opacity="0.9">◆ vesting.set_default_config / setup_tokenomics</text>
  <text x="500" y="388" font-size="10" fill="#c07060" opacity="0.9">◆ fee_collector.update_fee_rates / bridge_split</text>
  <text x="500" y="406" font-size="10" fill="#c07060" opacity="0.9">◆ treasury.collect_fee / fund_rewards</text>
  <text x="500" y="424" font-size="9" fill="#6a3020" font-style="italic">all core contracts</text>

  <!-- ══════════════════════════════════ -->
  <!-- PANEL 3: PROTOCOL REVENUE SOURCES  -->
  <!-- ══════════════════════════════════ -->
  <rect x="940" y="80" width="430" height="260" rx="12" fill="url(#panelRev)" stroke="#4ade80" stroke-width="1" stroke-opacity="0.35" filter="url(#panelShadow)"/>
  <text x="1155" y="108" text-anchor="middle" font-size="12" font-weight="700" letter-spacing="3" fill="#4ade80" opacity="0.85">PROTOCOL REVENUE SOURCES</text>
  <line x1="960" y1="116" x2="1355" y2="116" stroke="#4ade80" stroke-width="0.5" stroke-opacity="0.3"/>

  <!-- Swap -->
  <rect x="962" y="130" width="118" height="80" rx="8" fill="#0a2010" stroke="#4ade80" stroke-width="1.2" stroke-opacity="0.6"/>
  <text x="1021" y="165" text-anchor="middle" font-size="13" font-weight="700" fill="#4ade80">Swap</text>
  <text x="1021" y="183" text-anchor="middle" font-size="10" fill="#2a8040" opacity="0.9">fee stream</text>
  <text x="1021" y="200" text-anchor="middle" font-size="9" fill="#1a5030" opacity="0.8">AMM / DEX</text>

  <!-- Bridge -->
  <rect x="1096" y="130" width="118" height="80" rx="8" fill="#0a2010" stroke="#4ade80" stroke-width="1.2" stroke-opacity="0.6"/>
  <text x="1155" y="165" text-anchor="middle" font-size="13" font-weight="700" fill="#4ade80">Bridge</text>
  <text x="1155" y="183" text-anchor="middle" font-size="10" fill="#2a8040" opacity="0.9">fee stream</text>
  <text x="1155" y="200" text-anchor="middle" font-size="9" fill="#1a5030" opacity="0.8">cross-chain</text>

  <!-- MEV -->
  <rect x="1230" y="130" width="118" height="80" rx="8" fill="#0a2010" stroke="#4ade80" stroke-width="1.2" stroke-opacity="0.6"/>
  <text x="1289" y="165" text-anchor="middle" font-size="13" font-weight="700" fill="#4ade80">MEV</text>
  <text x="1289" y="183" text-anchor="middle" font-size="10" fill="#2a8040" opacity="0.9">fee stream</text>
  <text x="1289" y="200" text-anchor="middle" font-size="9" fill="#1a5030" opacity="0.8">searcher rebate</text>

  <!-- Revenue → FeeCollector arrows -->
  <line x1="1021" y1="210" x2="1021" y2="260" stroke="#4ade80" stroke-width="1.2" stroke-opacity="0.5"/>
  <line x1="1021" y1="260" x2="462" y2="260" stroke="#4ade80" stroke-width="1.2" stroke-opacity="0.5"/>
  <text x="760" y="252" text-anchor="middle" font-size="9.5" fill="#4ade80" opacity="0.6">collect_fee()</text>
  <line x1="1155" y1="210" x2="1155" y2="280" stroke="#4ade80" stroke-width="1.2" stroke-opacity="0.4"/>
  <line x1="1289" y1="210" x2="1289" y2="300" stroke="#4ade80" stroke-width="1.2" stroke-opacity="0.4"/>

  <!-- ══════════════════════════════════ -->
  <!-- PANEL 4: REWARDS DISTRIBUTION      -->
  <!-- ══════════════════════════════════ -->
  <rect x="940" y="360" width="430" height="210" rx="12" fill="url(#panelReward)" stroke="#facc15" stroke-width="1" stroke-opacity="0.35" filter="url(#panelShadow)"/>
  <text x="1155" y="388" text-anchor="middle" font-size="12" font-weight="700" letter-spacing="3" fill="#facc15" opacity="0.85">REWARDS DISTRIBUTION</text>
  <line x1="960" y1="396" x2="1355" y2="396" stroke="#facc15" stroke-width="0.5" stroke-opacity="0.3"/>

  <!-- Rewards Pool -->
  <rect x="962" y="410" width="180" height="120" rx="8" fill="#1a1500" stroke="#facc15" stroke-width="1.2" stroke-opacity="0.6"/>
  <text x="1052" y="445" text-anchor="middle" font-size="13" font-weight="700" fill="#facc15">Rewards Pool</text>
  <text x="1052" y="465" text-anchor="middle" font-size="10" fill="#c09010" opacity="0.9">fund_rewards()</text>
  <text x="1052" y="483" text-anchor="middle" font-size="10" fill="#806010" opacity="0.9">epoch-based release</text>
  <text x="1052" y="501" text-anchor="middle" font-size="10" fill="#806010" opacity="0.9">multi-pool support</text>
  <text x="1052" y="520" text-anchor="middle" font-size="9" fill="#504010" font-style="italic">rewards.cairo</text>

  <!-- Staking -->
  <rect x="1170" y="410" width="180" height="120" rx="8" fill="#1a1500" stroke="#facc15" stroke-width="1.2" stroke-opacity="0.6"/>
  <text x="1260" y="445" text-anchor="middle" font-size="13" font-weight="700" fill="#facc15">Staking</text>
  <text x="1260" y="465" text-anchor="middle" font-size="10" fill="#c09010" opacity="0.9">points / reward sink</text>
  <text x="1260" y="483" text-anchor="middle" font-size="10" fill="#806010" opacity="0.9">stake / unstake</text>
  <text x="1260" y="501" text-anchor="middle" font-size="10" fill="#806010" opacity="0.9">claim_rewards()</text>
  <text x="1260" y="520" text-anchor="middle" font-size="9" fill="#504010" font-style="italic">staking_btc.cairo</text>

  <!-- ══════════════════════════════════ -->
  <!-- PANEL 5: USERS + PRIVACY ROUTER    -->
  <!-- ══════════════════════════════════ -->
  <rect x="460" y="490" width="450" height="320" rx="12" fill="url(#panelUser)" stroke="#f87171" stroke-width="1" stroke-opacity="0.35" filter="url(#panelShadow)"/>
  <text x="685" y="518" text-anchor="middle" font-size="12" font-weight="700" letter-spacing="3" fill="#f87171" opacity="0.85">USERS + PRIVACY ROUTER</text>
  <line x1="480" y1="526" x2="895" y2="526" stroke="#f87171" stroke-width="0.5" stroke-opacity="0.3"/>

  <!-- Users -->
  <rect x="480" y="540" width="190" height="230" rx="8" fill="#180808" stroke="#f87171" stroke-width="1.2" stroke-opacity="0.6"/>
  <text x="575" y="570" text-anchor="middle" font-size="13" font-weight="700" fill="#f87171">Users</text>
  <text x="495" y="592" font-size="10" fill="#c06060" opacity="0.9">◆ token holders</text>
  <text x="495" y="610" font-size="10" fill="#c06060" opacity="0.9">◆ voters / delegators</text>
  <text x="495" y="628" font-size="10" fill="#c06060" opacity="0.9">◆ traders / LPs</text>
  <text x="495" y="646" font-size="10" fill="#c06060" opacity="0.9">◆ stakers</text>
  <text x="495" y="664" font-size="10" fill="#c06060" opacity="0.9">◆ private tx senders</text>
  <text x="575" y="754" text-anchor="middle" font-size="9" fill="#602020" font-style="italic">end users</text>

  <!-- PrivacyRouter -->
  <rect x="690" y="540" width="190" height="230" rx="8" fill="#180808" stroke="#f87171" stroke-width="1.2" stroke-opacity="0.6"/>
  <text x="785" y="570" text-anchor="middle" font-size="13" font-weight="700" fill="#f87171">PrivacyRouter</text>
  <text x="705" y="592" font-size="10" fill="#c06060" opacity="0.9">◆ submit_private_*</text>
  <text x="705" y="610" font-size="10" fill="#c06060" opacity="0.9">◆ ZK proof routing</text>
  <text x="705" y="628" font-size="10" fill="#c06060" opacity="0.9">◆ private swaps</text>
  <text x="705" y="646" font-size="10" fill="#c06060" opacity="0.9">◆ private bridges</text>
  <text x="705" y="664" font-size="10" fill="#c06060" opacity="0.9">◆ private governance</text>
  <text x="785" y="754" text-anchor="middle" font-size="9" fill="#602020" font-style="italic">privacy_router.cairo</text>

  <!-- ══════════════════════════════════════ -->
  <!-- FLOW ARROWS                            -->
  <!-- ══════════════════════════════════════ -->

  <!-- VestingManager → Token (release→mint) -->
  <path d="M55 330 C30 330 30 190 55 190" stroke="#00e5c8" stroke-width="1.8" fill="none" stroke-dasharray="6,3" marker-end="url(#arrowCyan)"/>
  <text x="14" y="265" text-anchor="middle" font-size="9" fill="#00e5c8" opacity="0.7" transform="rotate(-90, 14, 265)">release()→mint()</text>

  <!-- FeeCollector → Treasury (to_treasury) -->
  <path d="M230 550 L230 568" stroke="#00e5c8" stroke-width="2" marker-end="url(#arrowCyan)"/>
  <text x="245" y="565" font-size="9.5" fill="#00e5c8" opacity="0.7">to_treasury</text>

  <!-- Treasury → Rewards Pool (fund_rewards) -->
  <path d="M405 650 L580 650 L580 760 L930 760 L930 470 L960 470" stroke="#00e5c8" stroke-width="1.8" fill="none" stroke-dasharray="8,3" marker-end="url(#arrowCyan)"/>
  <text x="680" y="775" text-anchor="middle" font-size="9.5" fill="#00e5c8" opacity="0.7">fund_rewards()</text>

  <!-- FeeCollector ← Revenue sources (collect_swap_fee) -->
  <path d="M462" y="485"/>
  <line x1="460" y1="485" x2="408" y2="485" stroke="#4ade80" stroke-width="1.8" marker-end="url(#arrowGreen)"/>
  <text x="434" y="478" text-anchor="middle" font-size="9" fill="#4ade80" opacity="0.7">collect_fee()</text>

  <!-- Governance → Timelock (via control) — already drawn above -->

  <!-- Timelock → Admin Targets -->
  <path d="M785" y="270"/>
  <line x1="680" y1="272" x2="680" y2="298" stroke="#9d6bff" stroke-width="1.8" marker-end="url(#arrowPurple)"/>

  <!-- Admin Targets → Token (dashed purple) -->
  <path d="M480 350 L405 350 L405 200 L408 200" stroke="#9d6bff" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrowPurple)"/>
  <!-- Admin Targets → VestingManager (dashed purple) -->
  <path d="M480 360 L430 360 L430 335 L408 335" stroke="#9d6bff" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrowPurple)"/>
  <!-- Admin Targets → FeeCollector (dashed purple) -->
  <path d="M480 390 L420 390 L420 485 L408 485" stroke="#9d6bff" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrowPurple)"/>
  <!-- Admin Targets → Treasury (dashed purple) -->
  <path d="M480 410 L415 410 L415 645 L408 645" stroke="#9d6bff" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrowPurple)"/>
  <text x="432" y="520" text-anchor="middle" font-size="9" fill="#9d6bff" opacity="0.6" transform="rotate(-90, 432, 520)">governance admin updates</text>

  <!-- Users → Governance -->
  <path d="M575 540 L575 460 L670 460 L670 272" stroke="#f87171" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrowGray)"/>
  <text x="615" y="452" text-anchor="middle" font-size="9" fill="#f87171" opacity="0.6">propose / vote</text>

  <!-- PrivacyRouter → FeeCollector (private actions) -->
  <path d="M785 540 L785 485 L460 485" stroke="#666" stroke-width="1.2" fill="none" stroke-dasharray="4,3" marker-end="url(#arrowGray)"/>
  <text x="640" y="480" text-anchor="middle" font-size="9" fill="#888" opacity="0.6">private action submissions</text>

  <!-- Treasury burn arrow -->
  <path d="M230 720 L230 775 L55 775 L55 760" stroke="#ff8c42" stroke-width="1.8" fill="none" marker-end="url(#arrowOrange)"/>
  <text x="130" y="785" text-anchor="middle" font-size="9.5" fill="#ff8c42" opacity="0.7">burn_excess()</text>

  <!-- ══════════════════════════════════ -->
  <!-- LEGEND                             -->
  <!-- ══════════════════════════════════ -->
  <rect x="940" y="600" width="430" height="210" rx="12" fill="#080d1e" stroke="#2a3a60" stroke-width="1" stroke-opacity="0.6"/>
  <text x="1155" y="628" text-anchor="middle" font-size="11" font-weight="700" letter-spacing="3" fill="#8899bb" opacity="0.8">LEGEND</text>
  <line x1="960" y1="636" x2="1355" y2="636" stroke="#2a3a60" stroke-width="0.5"/>

  <!-- Legend items -->
  <line x1="965" y1="660" x2="1020" y2="660" stroke="#00e5c8" stroke-width="2" marker-end="url(#arrowCyan)"/>
  <text x="1030" y="664" font-size="11" fill="#7ea8b8">Value / token flow</text>

  <line x1="965" y1="690" x2="1020" y2="690" stroke="#ff8c42" stroke-width="2" marker-end="url(#arrowOrange)"/>
  <text x="1030" y="694" font-size="11" fill="#7ea8b8">Burn flow</text>

  <line x1="965" y1="720" x2="1020" y2="720" stroke="#9d6bff" stroke-width="1.5" stroke-dasharray="6,3" marker-end="url(#arrowPurple)"/>
  <text x="1030" y="724" font-size="11" fill="#7ea8b8">Governance / admin control</text>

  <line x1="965" y1="750" x2="1020" y2="750" stroke="#4ade80" stroke-width="1.5" marker-end="url(#arrowGreen)"/>
  <text x="1030" y="754" font-size="11" fill="#7ea8b8">Revenue collection</text>

  <line x1="965" y1="780" x2="1020" y2="780" stroke="#666" stroke-width="1.2" stroke-dasharray="4,3" marker-end="url(#arrowGray)"/>
  <text x="1030" y="784" font-size="11" fill="#7ea8b8">Private ZK submission path</text>

  <!-- Border -->
  <rect x="1" y="1" width="1398" height="858" rx="12" fill="none" stroke="#1e3a5e" stroke-width="1.5"/>
</svg>